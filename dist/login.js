(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{console.log("loaded");const e=document.getElementById("errorMsg"),o=document.getElementById("loginForm");window.location.search.includes("error")&&(e.style.display="block"),o.addEventListener("submit",(async o=>{o.preventDefault();const t=document.getElementById("username").value,n=document.getElementById("password").value;console.log(t+","+n);try{const e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`username=${encodeURIComponent(t)}&password=${encodeURIComponent(n)}`});e.redirected&&(window.location.href=e.url)}catch(o){e.style.display="block"}}))}))})();